RESEARCH ---------------------------------------------------------------------

- how does harfbuzz select charmap?

FEATURES ---------------------------------------------------------------------

font modifiers:
	- bold/b..., italic/oblique/i
	- %size, big, small

- hit testing
	- done: initial text run object + index in text + cluster len
	- todo: count graphemes in cluster
	- todo: compute pixel width of cluster
	- todo: divide cluster pixel width by number of graphemes evenly
	- todo: ... or use ligature carets if available
	- todo: adjust cursor to closest caret boundary
	- fix: rtl

- rtl: fix line width computation

- rtl: test cursor position with mirroring implications

- font_variant: normal, smallcaps; smallcaps modifier

- raise: raise, subscript, superscript, sub, sup

- color

- opacity
	- apply on the whole run
	- optimize to only do that if the runs are ligated

- paragraph splitting at PS

- p attribute

- br attribute

- nowrap attribute

- bug: shaping words separately breaks contextual ligatures.
	- see: https://bugzilla.mozilla.org/show_bug.cgi?id=761442

- plaintext: follow tabstops, preserve whitespace widths.

- underline / strikethrough:
	- skip descenders (trick: use white shadow around text)
	- color, thickness, style (single, double, wavy, image), dashes

- font_db: stretch/condensed...

- halign: justify

- wrapping algos: greedy, knuth

- letter spacing
	- identify breaking points (see HB_UNSAFE_TO_BREAK_HERE flag)
	- adjust justification to include letter spacing

- tabstops: width

- wrap inside path

- bounding box with/without ascents/descents

- html-like markup parser

- language/script font override

- glyph substitution
	- register fallback fonts for script/language and try them in order
	- match original font's size, weight, slant, stretch
	- cache the substitutions

- hyphenation: https://github.com/hunspell/hyphen (what libreoffice uses)

- coloring half-ligatures, see hb_ot_layout_get_ligature_carets

- rotation, translation, scale, shear, matrix for each run

- arbitrary path baseline
	- same breaking points as for letter-spacing
	- translate & rotate glyphs to match path's normals at glyph's center

- show hex boxes for:
	- invalid bytes
	- missing glyphs
	- control characters

- vertical layouts
	- gravity, gravity_hint?

- advanced arbitrary path baseline
	- extract glyphs outlines
	- break outlines into polygons
	- distort points based on path's normal vectors
	- rasterize new distorted outline

EDITING ----------------------------------------------------------------------

- mark invisible characters positions
	- ZW-NBSP: prevents ligatures
	- NBSP: prevents word-wrapping
	- SOFT HYPHEN: hyphenate if word-wrapping
	- ZWJ: force joining
	- ZWNJ: prevent joining
	- WORD JOINER: ZW-NBSP-like
	- LTR/RTL modifiers
	- variation selectors
	- hangul fillers
- mark look-alike characters:   ; ꓸ ꓹ ꓽ
